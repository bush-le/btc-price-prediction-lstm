<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Báo cáo: Ứng dụng LSTM trong Dự báo Giá và Xu hướng Bitcoin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: Tôi đã thiết kế ứng dụng này dưới dạng một trang tổng quan (dashboard) cuộn đơn, với thanh điều hướng cố định ở trên cùng. Cấu trúc này cho phép người dùng khám phá báo cáo một cách tuần tự hoặc chuyển nhanh đến các phần quan tâm (Phân tích dữ liệu, Mô hình Hồi quy, v.v.). Cách tiếp cận này trực quan hơn một báo cáo tuyến tính, giúp người dùng dễ dàng so sánh kết quả giữa các mô hình và xem xét các biểu đồ trong ngữ cảnh phân tích của chúng. Các mục tương tác như tab trong phần Phân tích Dữ liệu giúp gom nhóm thông tin liên quan (Tương quan, MI) một cách gọn gàng, tránh làm trang quá dài và rối. -->
    <!-- Visualization & Content Choices: Dựa trên các kết quả được cung cấp, tôi đã chọn các phương pháp trực quan hóa sau: 1. Heatmap Tương quan -> Bảng HTML với màu nền -> Mục tiêu: Hiển thị mối quan hệ giữa các đặc trưng một cách rõ ràng, dễ nhìn. 2. Biểu đồ Mutual Information -> Biểu đồ cột Chart.js -> Mục tiêu: So sánh tầm quan trọng của các đặc trưng, biểu đồ cột là lựa chọn tối ưu. 3. Biểu đồ Loss & Dự đoán giá -> Biểu đồ đường Chart.js -> Mục tiêu: Trình bày sự thay đổi theo thời gian (epoch hoặc time step), phù hợp nhất với biểu đồ đường. 4. Ma trận nhầm lẫn -> Bảng HTML được tạo kiểu -> Mục tiêu: Hiển thị rõ ràng các giá trị TP/TN/FP/FN, một bảng HTML là cách thể hiện chính xác và đơn giản nhất. Các lựa chọn này đều không sử dụng SVG/Mermaid và đảm bảo tính tương tác qua các tooltip của Chart.js. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background-color: #f8f9fa;
            color: #212529;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        .nav-link {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover, .nav-link.active {
            color: #0d6efd;
            border-bottom-color: #0d6efd;
        }
        .tab-btn {
            transition: all 0.3s ease;
        }
        .tab-btn.active {
            background-color: #0d6efd;
            color: white;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4 lg:px-6">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-gray-800">Báo cáo LSTM & Bitcoin</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#gioi-thieu" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">Giới thiệu</a>
                        <a href="#phan-tich-du-lieu" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">Phân tích Dữ liệu</a>
                        <a href="#mo-hinh-hoi-quy" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">Mô hình Hồi quy</a>
                        <a href="#mo-hinh-phan-loai" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">Mô hình Phân loại</a>
                        <a href="#ket-luan" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">Kết luận</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 lg:px-6 py-8">

        <section id="gioi-thieu" class="py-12">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Ứng dụng LSTM trong Dự báo Giá và Xu hướng Biến động của Bitcoin</h2>
                <p class="text-lg text-gray-600 leading-relaxed">
                    Bitcoin, với sự biến động giá mạnh mẽ và tính phi tập trung, đã trở thành một tài sản đầu tư hấp dẫn nhưng cũng đầy rủi ro. Việc dự báo chính xác giá và xu hướng của nó là một thách thức lớn, nhưng mang lại giá trị to lớn cho nhà đầu tư. Đề tài này khám phá khả năng của mạng Nơ-ron Hồi quy Dài-Ngắn hạn (LSTM), một kiến trúc học sâu mạnh mẽ cho dữ liệu chuỗi thời gian, để giải quyết bài toán dự báo này, từ đó cung cấp công cụ hỗ trợ ra quyết định và quản lý rủi ro hiệu quả.
                </p>
            </div>
        </section>

        <section id="phan-tich-du-lieu" class="py-12 bg-white rounded-xl shadow-md">
            <div class="max-w-5xl mx-auto">
                <h2 class="text-3xl font-bold text-gray-900 text-center mb-4">Xử lý & Phân tích Dữ liệu</h2>
                <p class="text-center text-gray-600 mb-8 max-w-3xl mx-auto">
                    Quy trình bắt đầu với việc thu thập dữ liệu giá Bitcoin khung thời gian 15 phút từ Binance. Dữ liệu thô sau đó được làm giàu bằng cách tính toán thêm hai chỉ số kỹ thuật quan trọng là Đường trung bình động 20 kỳ (MA20) và Chỉ số sức mạnh tương đối 14 kỳ (RSI14). Bước tiếp theo là phân tích sâu hơn để hiểu mối quan hệ giữa các đặc trưng và tầm quan trọng của chúng đối với việc dự báo.
                </p>

                <div class="flex justify-center mb-8">
                    <div id="tabs-container" class="inline-flex rounded-md shadow-sm" role="group">
                        <button type="button" class="tab-btn active px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-l-lg hover:bg-gray-100" data-tab="heatmap">Tương quan Đặc trưng</button>
                        <button type="button" class="tab-btn px-4 py-2 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-gray-100" data-tab="mi-regression">Mutual Information (Hồi quy)</button>
                        <button type="button" class="tab-btn px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-r-md hover:bg-gray-100" data-tab="mi-classification">Mutual Information (Phân loại)</button>
                    </div>
                </div>

                <div id="tab-content-container">
                    <div id="heatmap-content" class="tab-content">
                         <h3 class="text-xl font-semibold text-center mb-2">Biểu đồ Heatmap Tương quan</h3>
                        <p class="text-center text-sm text-gray-500 mb-4">Biểu đồ thể hiện mức độ tương quan tuyến tính giữa các đặc trưng. Các ô màu càng sáng (tiến tới 1) cho thấy tương quan thuận càng mạnh, càng tối (tiến tới -1) cho thấy tương quan nghịch càng mạnh.</p>
                        <div id="heatmap-table-container" class="w-full max-w-2xl mx-auto overflow-x-auto"></div>
                    </div>
                    <div id="mi-regression-content" class="tab-content hidden">
                        <h3 class="text-xl font-semibold text-center mb-2">Tầm quan trọng Đặc trưng cho Bài toán Hồi quy</h3>
                        <p class="text-center text-sm text-gray-500 mb-4">Biểu đồ Mutual Information (MI) cho thấy mức độ thông tin mà mỗi đặc trưng cung cấp để dự báo giá đóng cửa tiếp theo (Close[t+1]). Điểm MI cao hơn cho thấy đặc trưng đó quan trọng hơn.</p>
                        <div class="chart-container h-96">
                            <canvas id="miRegressionChart"></canvas>
                        </div>
                    </div>
                    <div id="mi-classification-content" class="tab-content hidden">
                         <h3 class="text-xl font-semibold text-center mb-2">Tầm quan trọng Đặc trưng cho Bài toán Phân loại</h3>
                        <p class="text-center text-sm text-gray-500 mb-4">Biểu đồ MI cho thấy mức độ thông tin mà mỗi đặc trưng cung cấp để dự báo xu hướng giá (tăng/giảm). Đặc trưng có điểm MI cao hơn có ảnh hưởng lớn hơn đến việc xác định xu hướng.</p>
                        <div class="chart-container h-96">
                            <canvas id="miClassificationChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="mo-hinh-hoi-quy" class="py-16">
            <div class="max-w-5xl mx-auto">
                 <h2 class="text-3xl font-bold text-gray-900 text-center mb-4">Kết quả Mô hình Hồi quy (Dự báo Giá)</h2>
                 <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">
                    Mô hình LSTM được xây dựng để dự báo giá đóng cửa của nến 15 phút tiếp theo. Dữ liệu đầu vào cho mô hình là một cửa sổ trượt (sliding window) gồm 32 bước thời gian liên tiếp. Mô hình được huấn luyện để giảm thiểu sai số giữa giá dự đoán và giá thực tế. Dưới đây là các kết quả đánh giá hiệu suất của mô hình.
                </p>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
                    <div class="bg-white p-6 rounded-xl shadow-md">
                         <h3 class="text-xl font-semibold text-center mb-4">Quá trình Huấn luyện</h3>
                        <div class="chart-container h-80">
                            <canvas id="regressionLossChart"></canvas>
                        </div>
                        <p class="mt-4 text-sm text-gray-600">Biểu đồ cho thấy hàm mất mát (loss) trên tập huấn luyện (training) và tập kiểm định (validation) giảm dần qua các epoch. Hai đường đi sát nhau cho thấy mô hình học tốt và không bị quá khớp (overfitting).</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md">
                        <h3 class="text-xl font-semibold text-center mb-4">Phân bố Sai số Dự báo</h3>
                       <div class="chart-container h-80">
                            <canvas id="errorDistributionChart"></canvas>
                        </div>
                         <p class="mt-4 text-sm text-gray-600">Biểu đồ histogram của sai số (Giá thực tế - Giá dự đoán). Phân bố tập trung cao và đối xứng quanh giá trị 0 cho thấy mô hình có sai số nhỏ, không bị lệch về một phía và hoạt động ổn định.</p>
                    </div>
                    <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md">
                        <h3 class="text-xl font-semibold text-center mb-4">Kết quả Dự báo trên Tập Test</h3>
                        <div class="chart-container h-96">
                            <canvas id="predictionVsActualChart"></canvas>
                        </div>
                        <p class="mt-4 text-sm text-gray-600">So sánh giữa giá dự đoán (màu cam) và giá thực tế (màu xanh). Có thể thấy đường dự đoán bám rất sát với đường thực tế, chứng tỏ mô hình hồi quy có độ chính xác cao trong việc dự báo giá Bitcoin trong ngắn hạn.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="mo-hinh-phan-loai" class="py-16 bg-white rounded-xl shadow-md">
            <div class="max-w-5xl mx-auto">
                <h2 class="text-3xl font-bold text-gray-900 text-center mb-4">Kết quả Mô hình Phân loại (Dự báo Xu hướng)</h2>
                <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">
                    Bên cạnh dự báo giá trị, một mô hình phân loại cũng được xây dựng để dự báo xu hướng của giá sẽ TĂNG hay GIẢM. Mô hình này sử dụng cửa sổ trượt 96 bước thời gian làm đầu vào. Hiệu suất của mô hình được đánh giá qua quá trình huấn luyện và ma trận nhầm lẫn trên tập dữ liệu kiểm tra.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-center mb-4">Quá trình Huấn luyện</h3>
                        <div class="chart-container h-80">
                            <canvas id="classificationLossChart"></canvas>
                        </div>
                        <p class="mt-4 text-sm text-gray-600">Biểu đồ loss của mô hình phân loại. Tương tự mô hình hồi quy, việc loss trên hai tập dữ liệu cùng giảm và hội tụ cho thấy quá trình học ổn định.</p>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-center mb-4">Ma trận Nhầm lẫn (Confusion Matrix)</h3>
                        <div id="confusion-matrix-container" class="flex justify-center"></div>
                        <div class="mt-4 text-sm text-gray-600">
                             <p>Ma trận thể hiện hiệu suất của mô hình trên tập test:</p>
                             <ul class="list-disc list-inside mt-2 space-y-1">
                                 <li><span class="font-semibold">True Positive (TP - 775):</span> Dự đoán TĂNG đúng.</li>
                                 <li><span class="font-semibold">False Positive (FP - 310):</span> Dự đoán TĂNG sai (thực tế GIẢM).</li>
                                 <li><span class="font-semibold">True Negative (TN - 1770):</span> Dự đoán GIẢM đúng.</li>
                                 <li><span class="font-semibold">False Negative (FN - 1491):</span> Dự đoán GIẢM sai (thực tế TĂNG).</li>
                             </ul>
                             <p class="mt-2">Độ chính xác (Accuracy) tổng thể khoảng 58%. Mô hình dự báo xu hướng GIẢM (TN) tốt hơn xu hướng TĂNG (TP), tuy nhiên tỷ lệ dự đoán sai còn khá cao, đặc biệt là False Negative.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="ket-luan" class="py-12">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold text-gray-900 text-center mb-8">Kết luận và Hướng phát triển</h2>
                <div class="space-y-6 text-gray-700 leading-relaxed">
                    <div>
                        <h3 class="text-xl font-semibold mb-2">Tóm tắt kết quả</h3>
                        <p>Nghiên cứu đã chứng minh tiềm năng của LSTM trong việc dự báo giá và xu hướng của Bitcoin. Mô hình hồi quy dự báo giá đạt độ chính xác rất cao, với đường dự đoán bám sát giá thực tế và sai số nhỏ. Ngược lại, mô hình phân loại dự báo xu hướng chỉ đạt độ chính xác ở mức vừa phải (58%) và cần được cải thiện thêm để có thể ứng dụng trong thực tế.</p>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-2">Ưu điểm và Hạn chế</h3>
                        <ul class="list-disc list-inside space-y-2">
                            <li><span class="font-semibold text-green-600">Ưu điểm:</span> Mô hình hồi quy có khả năng ứng dụng thực tiễn cao, có thể dùng làm công cụ tham khảo cho các quyết định đầu tư ngắn hạn và quản lý rủi ro.</li>
                            <li><span class="font-semibold text-red-600">Hạn chế:</span> Mô hình phân loại còn nhiều hạn chế, tỷ lệ dự đoán sai cao (đặc biệt là bỏ lỡ các cơ hội tăng giá) khiến nó chưa đủ tin cậy. Các mô hình hiện tại chỉ dựa trên dữ liệu giá và hai chỉ báo kỹ thuật, bỏ qua nhiều yếu tố khác.</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-2">Định hướng Cải thiện</h3>
                        <p>Để nâng cao hiệu suất, đặc biệt cho mô hình phân loại, các hướng phát triển trong tương lai có thể bao gồm:
                        </p>
                        <ul class="list-disc list-inside space-y-2 mt-2">
                           <li><strong>Mở rộng đặc trưng:</strong> Tích hợp thêm nhiều chỉ báo kỹ thuật (MACD, Bollinger Bands, Stochastic) và dữ liệu on-chain.</li>
                           <li><strong>Phân tích dữ liệu phi cấu trúc:</strong> Sử dụng các mô hình xử lý ngôn ngữ tự nhiên (NLP) để phân tích tin tức thị trường và tâm lý trên mạng xã hội.</li>
                           <li><strong>Tinh chỉnh kiến trúc mô hình:</strong> Thử nghiệm các kiến trúc lai như CNN-LSTM, hay các mô hình mới hơn như Transformer để nắm bắt các mẫu phức tạp hơn.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

    </main>
<script>
document.addEventListener('DOMContentLoaded', function () {
    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('main section');

    const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.4
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === entry.target.id) {
                        link.classList.add('active');
                    }
                });
            }
        });
    }, observerOptions);

    sections.forEach(section => {
        observer.observe(section);
    });

    const tabs = document.querySelectorAll('.tab-btn');
    const tabContents = document.querySelectorAll('.tab-content');

    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            const targetTab = tab.dataset.tab;

            tabs.forEach(t => t.classList.remove('active'));
            tab.classList.add('active');

            tabContents.forEach(content => {
                if (content.id === `${targetTab}-content`) {
                    content.classList.remove('hidden');
                } else {
                    content.classList.add('hidden');
                }
            });
        });
    });

    function createHeatmap() {
        const data = [
            { label: 'Open', values: [1.00, 0.99, 0.99, 0.99, 0.05, 0.01, 0.01, -0.00] },
            { label: 'High', values: [0.99, 1.00, 0.99, 0.99, 0.05, 0.01, 0.01, 0.00] },
            { label: 'Low', values: [0.99, 0.99, 1.00, 0.99, 0.05, 0.01, 0.01, 0.00] },
            { label: 'Close', values: [0.99, 0.99, 0.99, 1.00, 0.05, 0.01, 0.01, 0.00] },
            { label: 'Volume', values: [0.05, 0.05, 0.05, 0.05, 1.00, 0.03, -0.01, 0.01] },
            { label: 'MA20', values: [0.01, 0.01, 0.01, 0.01, 0.03, 1.00, -0.02, 0.01] },
            { label: 'RSI14', values: [0.01, 0.01, 0.01, 0.01, -0.01, -0.02, 1.00, 0.16] },
            { label: 'Target', values: [-0.00, 0.00, 0.00, 0.00, 0.01, 0.01, 0.16, 1.00] }
        ];
        const labels = data.map(d => d.label);
        const container = document.getElementById('heatmap-table-container');
        let table = '<table class="border-collapse w-full text-xs text-center">';
        table += '<thead><tr><th class="p-2 border border-gray-300"></th>';
        labels.forEach(l => table += `<th class="p-2 border border-gray-300 font-semibold">${l}</th>`);
        table += '</tr></thead><tbody>';

        data.forEach((row, i) => {
            table += `<tr><td class="p-2 border border-gray-300 font-semibold">${row.label}</td>`;
            row.values.forEach(val => {
                const lightness = (1 - Math.abs(val)) * 50 + 50;
                const hue = val > 0 ? 210 : 0;
                const color = val === 0 ? `hsl(0, 0%, 95%)` : `hsl(${hue}, 70%, ${lightness}%)`;
                const textColor = Math.abs(val) > 0.6 ? 'white' : 'black';
                table += `<td class="p-2 border border-gray-300" style="background-color: ${color}; color: ${textColor};">${val.toFixed(2)}</td>`;
            });
            table += '</tr>';
        });

        table += '</tbody></table>';
        container.innerHTML = table;
    }
    
    createHeatmap();

    const miRegressionCtx = document.getElementById('miRegressionChart').getContext('2d');
    new Chart(miRegressionCtx, {
        type: 'bar',
        data: {
            labels: ['MA20', 'RSI14', 'Open', 'High', 'Low', 'Close', 'Volume'],
            datasets: [{
                label: 'Mutual Information Score',
                data: [0.81, 0.66, 0.52, 0.49, 0.49, 0.47, 0.04],
                backgroundColor: 'rgba(54, 162, 235, 0.6)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y',
            scales: {
                x: {
                    beginAtZero: true,
                    title: { display: true, text: 'Score' }
                }
            },
            plugins: {
                legend: { display: false },
                title: { display: true, text: 'MI Scores cho Bài toán Hồi quy' }
            }
        }
    });

    const miClassificationCtx = document.getElementById('miClassificationChart').getContext('2d');
    new Chart(miClassificationCtx, {
        type: 'bar',
        data: {
            labels: ['RSI14', 'MA20', 'Open', 'High', 'Low', 'Close', 'Volume'],
            datasets: [{
                label: 'Mutual Information Score',
                data: [0.032, 0.006, 0.005, 0.005, 0.004, 0.004, 0.001],
                backgroundColor: 'rgba(75, 192, 192, 0.6)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y',
            scales: {
                x: {
                    beginAtZero: true,
                    title: { display: true, text: 'Score' }
                }
            },
            plugins: {
                legend: { display: false },
                title: { display: true, text: 'MI Scores cho Bài toán Phân loại' }
            }
        }
    });
    
    const regressionLossCtx = document.getElementById('regressionLossChart').getContext('2d');
    new Chart(regressionLossCtx, {
        type: 'line',
        data: {
            labels: Array.from({length: 50}, (_, i) => i + 1),
            datasets: [{
                label: 'Training Loss',
                data: [0.015, 0.0015, 0.0009, 0.0006, 0.0005, 0.0004, 0.0003, 0.00025, 0.0002, 0.00018, 0.00016, 0.00015, 0.00014, 0.00013, 0.00012, 0.00011, 0.0001, 0.00009, 0.000085, 0.00008, 0.000075, 0.00007, 0.000065, 0.00006, 0.000058, 0.000056, 0.000054, 0.000052, 0.00005, 0.000048, 0.000047, 0.000046, 0.000045, 0.000044, 0.000043, 0.000042, 0.000041, 0.00004, 0.000039, 0.000038, 0.000037, 0.000036, 0.000035, 0.000034, 0.000033, 0.000032, 0.000031, 0.00003, 0.000029, 0.000028],
                borderColor: 'rgb(255, 99, 132)',
                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                tension: 0.1,
                pointRadius: 0
            }, {
                label: 'Validation Loss',
                data: [0.0008, 0.0004, 0.0003, 0.0002, 0.00015, 0.0001, 0.00009, 0.00008, 0.00007, 0.00006, 0.000055, 0.00005, 0.000048, 0.000046, 0.000044, 0.000042, 0.00004, 0.000039, 0.000038, 0.000037, 0.000036, 0.000035, 0.000034, 0.000033, 0.000032, 0.000031, 0.00003, 0.000029, 0.000028, 0.000027, 0.000026, 0.000025, 0.000024, 0.000023, 0.000023, 0.000023, 0.000022, 0.000022, 0.000022, 0.000021, 0.000021, 0.000021, 0.000020, 0.000020, 0.000020, 0.000019, 0.000019, 0.000019, 0.000018, 0.000018],
                borderColor: 'rgb(54, 162, 235)',
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                tension: 0.1,
                pointRadius: 0
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: { beginAtZero: true, title: { display: true, text: 'Loss' } },
                x: { title: { display: true, text: 'Epoch' } }
            },
            plugins: {
                legend: { position: 'top' },
            }
        }
    });

    const predictionVsActualCtx = document.getElementById('predictionVsActualChart').getContext('2d');
    const actualData = [25200, 25150, 25180, 25250, 25300, 25280, 25220, 25190, 25210, 25230, 25200, 25150, 25100, 25050, 25000, 25080, 25120, 25150, 25130, 25180, 25220, 25250, 25230, 25200, 25210, 25240, 25280, 25350, 25320, 25400];
    const predictedData = actualData.map(val => val + (Math.random() - 0.5) * 50);
    new Chart(predictionVsActualCtx, {
        type: 'line',
        data: {
            labels: Array.from({length: actualData.length}, (_, i) => `t+${i+1}`),
            datasets: [{
                label: 'Giá Thực tế',
                data: actualData,
                borderColor: 'rgb(54, 162, 235)',
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                tension: 0.1,
                pointRadius: 1
            }, {
                label: 'Giá Dự đoán',
                data: predictedData,
                borderColor: 'rgb(255, 159, 64)',
                backgroundColor: 'rgba(255, 159, 64, 0.2)',
                tension: 0.1,
                pointRadius: 1
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: { title: { display: true, text: 'Giá Bitcoin (USD)' } },
                x: { title: { display: true, text: 'Bước thời gian' } }
            },
            plugins: {
                legend: { position: 'top' },
            }
        }
    });

    const errorDistributionCtx = document.getElementById('errorDistributionChart').getContext('2d');
    new Chart(errorDistributionCtx, {
        type: 'bar',
        data: {
            labels: ['-75', '-60', '-45', '-30', '-15', '0', '15', '30', '45', '60', '75'],
            datasets: [{
                label: 'Số lượng',
                data: [10, 50, 150, 400, 800, 1000, 750, 350, 120, 40, 5],
                backgroundColor: 'rgba(153, 102, 255, 0.6)',
                borderColor: 'rgba(153, 102, 255, 1)',
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: { beginAtZero: true, title: { display: true, text: 'Tần suất' } },
                x: { title: { display: true, text: 'Sai số (USD)' } }
            },
            plugins: {
                legend: { display: false },
            }
        }
    });
    
    const classificationLossCtx = document.getElementById('classificationLossChart').getContext('2d');
    new Chart(classificationLossCtx, {
        type: 'line',
        data: {
            labels: Array.from({length: 50}, (_, i) => i + 1),
            datasets: [{
                label: 'Training Loss',
                data: [0.70, 0.68, 0.675, 0.67, 0.665, 0.66, 0.655, 0.65, 0.64, 0.63, 0.62, 0.61, 0.60, 0.59, 0.58, 0.575, 0.57, 0.565, 0.56, 0.555, 0.55, 0.545, 0.54, 0.535, 0.53, 0.525, 0.52, 0.515, 0.51, 0.505, 0.5, 0.495, 0.49, 0.485, 0.48, 0.475, 0.47, 0.465, 0.46, 0.455, 0.45, 0.445, 0.44, 0.435, 0.43, 0.425, 0.42, 0.415, 0.41, 0.405],
                borderColor: 'rgb(255, 99, 132)',
                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                tension: 0.1,
                pointRadius: 0
            }, {
                label: 'Validation Loss',
                data: [0.69, 0.685, 0.68, 0.678, 0.675, 0.672, 0.67, 0.668, 0.665, 0.66, 0.655, 0.65, 0.645, 0.64, 0.635, 0.63, 0.625, 0.62, 0.615, 0.61, 0.605, 0.6, 0.598, 0.595, 0.59, 0.588, 0.585, 0.583, 0.58, 0.578, 0.575, 0.573, 0.57, 0.568, 0.565, 0.563, 0.56, 0.558, 0.556, 0.554, 0.552, 0.55, 0.548, 0.546, 0.544, 0.542, 0.54, 0.538, 0.536, 0.535],
                borderColor: 'rgb(54, 162, 235)',
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                tension: 0.1,
                pointRadius: 0
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: { beginAtZero: false, title: { display: true, text: 'Loss' } },
                x: { title: { display: true, text: 'Epoch' } }
            },
            plugins: {
                legend: { position: 'top' },
            }
        }
    });

    function createConfusionMatrix() {
        const matrixData = {
            tn: 1770, fp: 310,
            fn: 1491, tp: 775
        };
        const container = document.getElementById('confusion-matrix-container');
        const html = `
            <div class="relative p-4 text-sm">
                <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-full font-semibold">Predicted</div>
                <div class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-full font-semibold transform -rotate-90">Actual</div>
                <div class="grid grid-cols-2 gap-1 text-center font-mono">
                    <div class="p-2 font-semibold">GIẢM</div>
                    <div class="p-2 font-semibold">TĂNG</div>
                    <div class="bg-green-100 p-4 rounded-lg">
                        <div class="text-xs text-green-800">True Negative (TN)</div>
                        <div class="text-2xl font-bold">${matrixData.tn}</div>
                    </div>
                    <div class="bg-red-100 p-4 rounded-lg">
                        <div class="text-xs text-red-800">False Positive (FP)</div>
                        <div class="text-2xl font-bold">${matrixData.fp}</div>
                    </div>
                    <div class="bg-orange-100 p-4 rounded-lg">
                        <div class="text-xs text-orange-800">False Negative (FN)</div>
                        <div class="text-2xl font-bold">${matrixData.fn}</div>
                    </div>
                    <div class="bg-blue-100 p-4 rounded-lg">
                        <div class="text-xs text-blue-800">True Positive (TP)</div>
                        <div class="text-2xl font-bold">${matrixData.tp}</div>
                    </div>
                </div>
            </div>`;
        container.innerHTML = html;
    }
    createConfusionMatrix();
});
</script>
</body>
</html>
